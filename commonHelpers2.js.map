{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst SAVE_KEY = \"feedback-form-state\";\n// const formData = { email: \"\", message: \"\" };\n\nlet formData = JSON.parse(localStorage.getItem(SAVE_KEY)) || { email: \"\", message: \"\" } ;\n\n\n//!==================================================================\nformEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n\n    if (!email|| !message) {\n        return alert('email or message is empty');\n    }\n    const userData = {\n           email, message,\n    } \n    console.log(userData);\n    // formData.elements.email= '';\n    // formData.elements.message = '';\n    \n     e.target.elements.email.value= '';\n        e.target.elements.message.value= '';\n\n    localStorage.removeItem(SAVE_KEY);\n    e.target.reset();\n    formData = {};\n})\n\n\nformEl.addEventListener('input', e => {\n    const value = e.target.value.trim();\n    formData[e.target.name] = value;\n    saveInStorage(SAVE_KEY, formData);\n\n});\n\n\n\n\n//!==================================================================\nfunction saveInStorage(key, value) {\n    try {\n        const json = JSON.stringify(value);\n        localStorage.setItem(key, json);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nfunction loadFromStorage(key) {\n    const data = localStorage.getItem(key);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch (error) {\n        return data;\n    }\n}\n//!==================================================================\nfunction init() {\n    const data = loadFromStorage(SAVE_KEY) || {};\n    formEl.elements.email.value = data.email || '';\n    formEl.elements.message.value = data.message || '';\n\n    // formData = {\n    //     email, message\n    // }\n}\ninit()\n\n//!==================================================================\n\n\n\n\n\n\n\n\n"],"names":["formEl","SAVE_KEY","formData","email","message","value","saveInStorage","key","json","error","loadFromStorage","data","init"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAW,sBAGjB,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAQ,CAAC,GAAK,CAAE,MAAO,GAAI,QAAS,EAAE,EAGrF;AACAD,EAAO,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAChB,MAAMG,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEvD,GAAI,CAACD,GAAQ,CAACC,EACV,OAAO,MAAM,2BAA2B,EAK5C,QAAQ,IAHS,CACV,MAAAD,EAAO,QAAAC,CACb,CACmB,EAInB,EAAE,OAAO,SAAS,MAAM,MAAO,GAC5B,EAAE,OAAO,SAAS,QAAQ,MAAO,GAErC,aAAa,WAAWH,CAAQ,EAChC,EAAE,OAAO,QACTC,EAAW,CAAA,CACf,CAAC,EAGDF,EAAO,iBAAiB,QAAS,GAAK,CAClC,MAAMK,EAAQ,EAAE,OAAO,MAAM,KAAI,EACjCH,EAAS,EAAE,OAAO,IAAI,EAAIG,EAC1BC,EAAcL,EAAUC,CAAQ,CAEpC,CAAC,EAKD;AACA,SAASI,EAAcC,EAAKF,EAAO,CAC/B,GAAI,CACA,MAAMG,EAAO,KAAK,UAAUH,CAAK,EACjC,aAAa,QAAQE,EAAKC,CAAI,CACjC,OAAQC,EAAO,CACZ,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAEA,SAASC,EAAgBH,EAAK,CAC1B,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADe,KAAK,MAAMI,CAAI,CAEjC,MAAe,CACZ,OAAOA,CACV,CACL,CACA;AACA,SAASC,GAAO,CACZ,MAAMD,EAAOD,EAAgBT,CAAQ,GAAK,CAAA,EAC1CD,EAAO,SAAS,MAAM,MAAQW,EAAK,OAAS,GAC5CX,EAAO,SAAS,QAAQ,MAAQW,EAAK,SAAW,EAKpD,CACAC,EAAM,EAEN;"}